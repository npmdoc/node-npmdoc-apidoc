<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="http://apidocjs.com"

    >apidoc (v0.17.5)</a>
</h1>
<h4>RESTful web API Documentation Generator</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.apidoc">module apidoc</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.apidoc.createDoc">
            function <span class="apidocSignatureSpan">apidoc.</span>createDoc
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.apidoc.package_info">
            function <span class="apidocSignatureSpan">apidoc.</span>package_info
            <span class="apidocSignatureSpan">(_app)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">apidoc.</span>package_info.prototype</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.apidoc.createDoc">module apidoc.createDoc</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.apidoc.createDoc.createDoc">
            function <span class="apidocSignatureSpan">apidoc.</span>createDoc
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.apidoc.package_info">module apidoc.package_info</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.apidoc.package_info.package_info">
            function <span class="apidocSignatureSpan">apidoc.</span>package_info
            <span class="apidocSignatureSpan">(_app)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.apidoc.package_info.prototype">module apidoc.package_info.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.apidoc.package_info.prototype._getHeaderFooter">
            function <span class="apidocSignatureSpan">apidoc.package_info.prototype.</span>_getHeaderFooter
            <span class="apidocSignatureSpan">(json)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.apidoc.package_info.prototype._readPackageData">
            function <span class="apidocSignatureSpan">apidoc.package_info.prototype.</span>_readPackageData
            <span class="apidocSignatureSpan">(filename)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.apidoc.package_info.prototype._resolveSrcPath">
            function <span class="apidocSignatureSpan">apidoc.package_info.prototype.</span>_resolveSrcPath
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.apidoc.package_info.prototype.get">
            function <span class="apidocSignatureSpan">apidoc.package_info.prototype.</span>get
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.apidoc" id="apidoc.module.apidoc">module apidoc</a></h1>


    <h2>
        <a href="#apidoc.element.apidoc.createDoc" id="apidoc.element.apidoc.createDoc">
        function <span class="apidocSignatureSpan">apidoc.</span>createDoc
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function createDoc(options) {
    var api;
    var apidocPath = path.join(__dirname, &#x27;../&#x27;);
    var markdownParser;
    var packageInfo;

    options = _.defaults({}, options, defaults);

    // Paths.
    options.dest     = path.join(options.dest, &#x27;./&#x27;);
    options.template = path.join(options.template, &#x27;./&#x27;);

    // Line-Ending.
    if (options.lineEnding) {
        if (options.lineEnding === &#x27;CRLF&#x27;)
            options.lineEnding = &#x27;\r\n&#x27;; // win32
        else if (options.lineEnding === &#x27;CR&#x27;)
            options.lineEnding = &#x27;\r&#x27;; // darwin
        else
            options.lineEnding = &#x27;\n&#x27;; // linux
    }

    // Options.
    app.options = options;

    // Logger.
    app.log = new (winston.Logger)({
        transports: [
            new (winston.transports.Console)({
                level      : app.options.debug ? &#x27;debug&#x27; : app.options.verbose ? &#x27;verbose&#x27; : &#x27;info&#x27;,
                silent     : app.options.silent,
                prettyPrint: true,
                colorize   : app.options.colorize,
                timestamp  : false
            }),
        ]
    });

    // Markdown Parser: enable / disable / use a custom parser.
    if(app.options.markdown === true) {
        markdownParser = new Markdown({
            breaks     : false,
            html       : true,
            linkify    : false,
            typographer: false
        });
    } else if(app.options.markdown !== false) {
        // Include custom Parser @see MARKDOWN.md and test/fixtures/custom_markdown_parser.js
        Markdown = require(app.options.markdown); // Overwrite default Markdown.
        markdownParser = new Markdown();
    }
    app.markdownParser = markdownParser;

    try {
        packageInfo = new PackageInfo(app);

        // generator information
        var json = JSON.parse( fs.readFileSync(apidocPath + &#x27;package.json&#x27;, &#x27;utf8&#x27;) );
        apidoc.setGeneratorInfos({
            name   : json.name,
            time   : new Date(),
            url    : json.homepage,
            version: json.version
        });
        apidoc.setLogger(app.log);
        apidoc.setMarkdownParser(markdownParser);
        apidoc.setPackageInfos(packageInfo.get());

        api = apidoc.parse(app.options);

        if (api === true) {
            app.log.info(&#x27;Nothing to do.&#x27;);
            return true;
        }
        if (api === false)
            return false;

        if (app.options.parse !== true)
            createOutputFiles(api);

        app.log.info(&#x27;Done.&#x27;);
        return api;
    } catch(e) {
        app.log.error(e.message);
        if (e.stack)
            app.log.debug(e.stack);
        return false;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.apidoc.package_info" id="apidoc.element.apidoc.package_info">
        function <span class="apidocSignatureSpan">apidoc.</span>package_info
        <span class="apidocSignatureSpan">(_app)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PackageInfo(_app) {
    // global variables
    app = _app;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.apidoc.createDoc" id="apidoc.module.apidoc.createDoc">module apidoc.createDoc</a></h1>


    <h2>
        <a href="#apidoc.element.apidoc.createDoc.createDoc" id="apidoc.element.apidoc.createDoc.createDoc">
        function <span class="apidocSignatureSpan">apidoc.</span>createDoc
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function createDoc(options) {
    var api;
    var apidocPath = path.join(__dirname, &#x27;../&#x27;);
    var markdownParser;
    var packageInfo;

    options = _.defaults({}, options, defaults);

    // Paths.
    options.dest     = path.join(options.dest, &#x27;./&#x27;);
    options.template = path.join(options.template, &#x27;./&#x27;);

    // Line-Ending.
    if (options.lineEnding) {
        if (options.lineEnding === &#x27;CRLF&#x27;)
            options.lineEnding = &#x27;\r\n&#x27;; // win32
        else if (options.lineEnding === &#x27;CR&#x27;)
            options.lineEnding = &#x27;\r&#x27;; // darwin
        else
            options.lineEnding = &#x27;\n&#x27;; // linux
    }

    // Options.
    app.options = options;

    // Logger.
    app.log = new (winston.Logger)({
        transports: [
            new (winston.transports.Console)({
                level      : app.options.debug ? &#x27;debug&#x27; : app.options.verbose ? &#x27;verbose&#x27; : &#x27;info&#x27;,
                silent     : app.options.silent,
                prettyPrint: true,
                colorize   : app.options.colorize,
                timestamp  : false
            }),
        ]
    });

    // Markdown Parser: enable / disable / use a custom parser.
    if(app.options.markdown === true) {
        markdownParser = new Markdown({
            breaks     : false,
            html       : true,
            linkify    : false,
            typographer: false
        });
    } else if(app.options.markdown !== false) {
        // Include custom Parser @see MARKDOWN.md and test/fixtures/custom_markdown_parser.js
        Markdown = require(app.options.markdown); // Overwrite default Markdown.
        markdownParser = new Markdown();
    }
    app.markdownParser = markdownParser;

    try {
        packageInfo = new PackageInfo(app);

        // generator information
        var json = JSON.parse( fs.readFileSync(apidocPath + &#x27;package.json&#x27;, &#x27;utf8&#x27;) );
        apidoc.setGeneratorInfos({
            name   : json.name,
            time   : new Date(),
            url    : json.homepage,
            version: json.version
        });
        apidoc.setLogger(app.log);
        apidoc.setMarkdownParser(markdownParser);
        apidoc.setPackageInfos(packageInfo.get());

        api = apidoc.parse(app.options);

        if (api === true) {
            app.log.info(&#x27;Nothing to do.&#x27;);
            return true;
        }
        if (api === false)
            return false;

        if (app.options.parse !== true)
            createOutputFiles(api);

        app.log.info(&#x27;Done.&#x27;);
        return api;
    } catch(e) {
        app.log.error(e.message);
        if (e.stack)
            app.log.debug(e.stack);
        return false;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.apidoc.package_info" id="apidoc.module.apidoc.package_info">module apidoc.package_info</a></h1>


    <h2>
        <a href="#apidoc.element.apidoc.package_info.package_info" id="apidoc.element.apidoc.package_info.package_info">
        function <span class="apidocSignatureSpan">apidoc.</span>package_info
        <span class="apidocSignatureSpan">(_app)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PackageInfo(_app) {
    // global variables
    app = _app;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.apidoc.package_info.prototype" id="apidoc.module.apidoc.package_info.prototype">module apidoc.package_info.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.apidoc.package_info.prototype._getHeaderFooter" id="apidoc.element.apidoc.package_info.prototype._getHeaderFooter">
        function <span class="apidocSignatureSpan">apidoc.package_info.prototype.</span>_getHeaderFooter
        <span class="apidocSignatureSpan">(json)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_getHeaderFooter = function (json) {
    var result = {};
    var self = this;

    [&#x27;header&#x27;, &#x27;footer&#x27;].forEach(function(key) {
        if (json[key] &#x26;&#x26; json[key].filename) {
//            var filename = path.join(app.options.src, json[key].filename);
            var dir = self._resolveSrcPath();
            var filename = path.join(dir, json[key].filename);

            if ( ! fs.existsSync(filename))
                filename = path.join(&#x27;./&#x27;, json[key].filename);

            try {
                app.log.debug(&#x27;read header file: &#x27; + filename);
                var content = fs.readFileSync(filename, &#x27;utf8&#x27;);
                result[key] = {
                    title  : json[key].title,
                    content: app.markdownParser ? app.markdownParser.render(content) : content
                };
            } catch (e) {
                throw new Error(&#x27;Can not read: &#x27; + filename + &#x27;.&#x27;);
            }
        }
    });

    return result;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    // apidoc.json has higher priority
    _.extend(result, apidocJson);

    // options.packageInfo overwrites packageInfo
    _.extend(result, app.options.packageInfo);

    // replace header footer with file contents
    _.extend(result, this.<span class="apidocCodeKeywordSpan">_getHeaderFooter</span>(result));

    if (Object.keys(apidocJson).length === 0 &#x26;&#x26; ! packageJson.apidoc)
        app.log.warn(&#x27;Please create an apidoc.json configuration file.&#x27;);

    return result;
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.apidoc.package_info.prototype._readPackageData" id="apidoc.element.apidoc.package_info.prototype._readPackageData">
        function <span class="apidocSignatureSpan">apidoc.package_info.prototype.</span>_readPackageData
        <span class="apidocSignatureSpan">(filename)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_readPackageData = function (filename) {
    var result = {};
    var dir = this._resolveSrcPath();
    var jsonFilename = path.join(dir, filename);

    // Read from source dir
    if ( ! fs.existsSync(jsonFilename)) {
        // Read from config dir (default &#x27;./&#x27;)
        jsonFilename = path.join(app.options.config, filename);
    }
    if ( ! fs.existsSync(jsonFilename)) {
        app.log.debug(jsonFilename + &#x27; not found!&#x27;);
    } else {
        try {
            result = JSON.parse( fs.readFileSync(jsonFilename, &#x27;utf8&#x27;) );
            app.log.debug(&#x27;read: &#x27; + jsonFilename);
        } catch (e) {
            throw new Error(&#x27;Can not read: &#x27; + filename + &#x27;, please check the format (e.g. missing comma).&#x27;);
        }
    }
    return result;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
 * Read apidoc.json / package.json data
 */
PackageInfo.prototype.get = function() {
var result = {};

// Read package.json
var packageJson = this.<span class="apidocCodeKeywordSpan">_readPackageData</span>(&#x27;package.json&#x27;);

if (packageJson.apidoc)
    result = packageJson.apidoc;

result = _.defaults({}, result, {
    name       : packageJson.name        || &#x27;&#x27;,
    version    : packageJson.version     || &#x27;0.0.0&#x27;,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.apidoc.package_info.prototype._resolveSrcPath" id="apidoc.element.apidoc.package_info.prototype._resolveSrcPath">
        function <span class="apidocSignatureSpan">apidoc.package_info.prototype.</span>_resolveSrcPath
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_resolveSrcPath = function () {
    var dir = &#x27;./&#x27;;

    if (app.options.src instanceof Array) {
        if (app.options.src.length === 1) {
            dir = app.options.src[0];
        }
    } else {
        if (app.options.src) {
            dir = app.options.src;
        }
    }

    return dir;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 *
 * @param {String} filename
 * @param {Object} defaults
 * @returns {Object}
 */
PackageInfo.prototype._readPackageData = function(filename) {
var result = {};
var dir = this.<span class="apidocCodeKeywordSpan">_resolveSrcPath</span>();
var jsonFilename = path.join(dir, filename);

// Read from source dir
if ( ! fs.existsSync(jsonFilename)) {
    // Read from config dir (default &#x27;./&#x27;)
    jsonFilename = path.join(app.options.config, filename);
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.apidoc.package_info.prototype.get" id="apidoc.element.apidoc.package_info.prototype.get">
        function <span class="apidocSignatureSpan">apidoc.package_info.prototype.</span>get
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">get = function () {
    var result = {};

    // Read package.json
    var packageJson = this._readPackageData(&#x27;package.json&#x27;);

    if (packageJson.apidoc)
        result = packageJson.apidoc;

    result = _.defaults({}, result, {
        name       : packageJson.name        || &#x27;&#x27;,
        version    : packageJson.version     || &#x27;0.0.0&#x27;,
        description: packageJson.description || &#x27;&#x27;,
    });

    // read apidoc.json (and overwrite package.json information)
    var apidocJson = this._readPackageData(&#x27;apidoc.json&#x27;);

    // apidoc.json has higher priority
    _.extend(result, apidocJson);

    // options.packageInfo overwrites packageInfo
    _.extend(result, app.options.packageInfo);

    // replace header footer with file contents
    _.extend(result, this._getHeaderFooter(result));

    if (Object.keys(apidocJson).length === 0 &#x26;&#x26; ! packageJson.apidoc)
        app.log.warn(&#x27;Please create an apidoc.json configuration file.&#x27;);

    return result;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
